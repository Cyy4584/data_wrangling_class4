---
title: "data_manipulation_class5"
author: "Yingyu Cui"
date: "2024-09-23"
output: github_document
---
```{r set up}
library(tidyverse)
```
# Import the litter data
```{r import}
litter_df = read_csv("./data_import_examples/FAS_litters.csv")
litter_df = janitor::clean_names(litter_df)
```
# 'Select' some columns but not others

different usages of 'select' function:
- select columns by name
```{r}
select(litter_df, group, litter_number)
select(litter_df, -group)
select(litter_df, group:gd18_weight)
```
- Rename columns:
one  change and select, the other one change but keep others.
```{r}
select(litter_df, GROUP = group, LITTER_NUMBER = litter_number)

rename(litter_df, GROUP = group, LITTER_NUMBER = litter_number)
```
- select columns by condition / select helpers
the last two examples represent the same function but the different expressions.
```{r}
select(litter_df, starts_with("gd"))
select(litter_df, litter_number, everything())
relocate(litter_df, litter_number)
```

# 'Filter' function
select is on columns, filter is on rows.
when we want to see whether a condition is valid, we use "==", instead of "=", which is used to assign values.
the last one repreesents choosing the subjects that meet either of the two conditions but not both.
```{r}
filter(litter_df, gd_of_birth == 20)
filter(litter_df, gd_of_birth != 20)
filter(litter_df, !(gd_of_birth == 20))
filter(litter_df, gd_of_birth <= 20)
filter(litter_df, gd_of_birth == 20, gd0_weight > 22)
filter(litter_df, group == "Mod8")
filter(litter_df, group %in% c("Mod8", "Con7"))
```
## 'Mutate'
mutate is used to create new columns or change the context in different columns.
Question: why the diff(diff_weight = 18_weight-0_weight) cannot calculate but Prof.Jeff could?
```{r}
mutate(litter_df,  
       group = str_to_lower(group))
```
## 'Arrange'
which is put the data in order.(Used not that often)
first A and then B
```{r}
arrange(litter_df, pups_born_alive)
arrange(litter_df, pups_born_alive, gd0_weight)
```

## pipe %>% 
pipe is used to connect the functions together.
one more fuction:
```{r}
litter_df_without_missing = drop_na(litter_df, gd0_weight)
```
A %>% B %>% select(only code the things after ','), mutate works the same way.
